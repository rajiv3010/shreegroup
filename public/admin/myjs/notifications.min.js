function getNotification(){return $.ajax({url:"/get-notification/user"}).done(function(e){$("#notification_li").html(e)}),!1}function getTree(e){return $.ajax({url:"/getTree/"+e,dataType:"json"}).done(function(e){org_chart=$("#orgChart").orgChart({data:e.sort(),showControls:!0,allowEdit:!0,onAddNode:function(e){org_chart.newNode(e.data.id)},onDeleteNode:function(e){org_chart.deleteNode(e.data.id)},onClickNode:function(e){}})}),!1}function getWidget(){return $.ajax({url:"/get-widget"}).done(function(e){$("#loadingstate").hide(),$(".dashboardwidget").html(e)}),!1}function getPin(e){$.ajax({url:"/classified/cities/pincodes/"+e}).done(function(e){var n=JSON.parse(e),t="";$.each(n,function(e,n){t+="<option value="+n.id+">",t+=""+n.pincode,t+="</option>"}),$("#location_id").html(t)})}$(document).ready(function(){var e=new Date;e.setFullYear((new Date).getFullYear()-18),$(".dob").datepicker({viewMode:"years",endDate:e}),getNotification()();var n=$("#current_user").val();null==n||getTree(n),$("#orgChartContainer").on("click",".myTree",function(){getTree($(this).attr("data-my-userKey"))}),$("#apc_package").change(function(){var e=$(this).val();$("#apc_my_pins").html("<option>Searching...</option>"),$.ajax({url:"/dpc/get-apc/pin/"+e}).done(function(e){if($("#takkingPin").text(" "),0==e){var t="";t+="<option value='0'>",t+="No pins for this package",t+="</option>",$("#apc_my_pins").html(t)}else{var n=JSON.parse(e);t="";$.each(n,function(e,n){t+="<option value="+n.pin_number+">",t+=""+n.pin_number,t+="</option>"}),$("#apc_my_pins").html(t)}})}),$("#addNew_package").change(function(){var e=$(this).val();$(".addNewUserPin").html("<option>Searching...</option>"),$.ajax({url:"/user/get/pin/"+e}).done(function(e){if(0==e){var t="";t+="<option value='0'>",t+="No pins for this package",t+="</option>",$(".addNewUserPin").html(t)}else{var n=JSON.parse(e);t="";$.each(n,function(e,n){t+="<option value="+n.pin_number+">",t+=""+n.pin_number,t+="</option>"}),$(".addNewUserPin").html(t)}})}),$("#state_id").change(function(){var e=$(this).val();$.ajax({url:"/classified/cities/"+e}).done(function(e){var n=JSON.parse(e),t="";getPin(n[0].id),$.each(n,function(e,n){t+="<option value="+n.id+">",t+=""+n.name,t+="</option>"}),$("#city_id").html(t)})}),$("#city_id").change(function(){getPin($(this).val())}),$("#business_category_id").change(function(){var e=$(this).val();if(e)if("0"==e){$("#business_sub_category_id").html("<input  type='checkbox' name='business_sub_category_id[]' class='business_sub_category_id' value='0'>Other</option>")}else $.ajax({url:"/classified/sub_business_category/"+e}).done(function(e){var n=JSON.parse(e),t="";$.each(n,function(e,n){t+="<input value="+n.id+' name="business_sub_category_id[]" type="checkbox" class="form-check-input" id="search'+e+'">',t+='<label class="form-check-label business_sub_category_id" for="search">'+n.name+"</label>",t+="&nbsp;&nbsp;&nbsp;&nbsp;"}),$("#business_sub_category_id").html(t)})})});